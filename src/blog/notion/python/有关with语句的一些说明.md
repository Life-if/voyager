## 有关with语句的一些说明

使用with语句，需要知道上下文管理器、上下文管理协议

**上下文管理协议**：包含方法 `__enter__()` 和 `__exit__()`，支持该协议要实现这两个方法

**上下文管理器：**支持上下文管理协议的对象，实现了方法 `__enter__()` 和 `__exit__()`。上下文管理器定义执行with语句建立的运行时上下文的金如何退出操作。

**运行时上下文：**`__enter__()` 方法在语句体执行之前进入运行时上下文， `__exit__()`方法在语句体执行完毕后从运行时上下文退出。

**上下文表达式：**with语句跟在关键词with之后的表达式，该表达式要返回一个上下文管理器对象

**优点：**可以自动关闭文件和进行一些线程锁的自动获取和释放的问题

```python
with open('somefilename') as somefile:
    for line in somefile:
        print(line)
        #more code
        
```

