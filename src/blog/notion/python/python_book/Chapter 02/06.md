---
lang: zh-CN
title: 2.6  集合（set and frozenset）
shortTitle: 2.6  集合（set and frozenset）
date: 2023-11-26
description: python 对集合类型的使用方法
index: true
icon: python
category:
  - python
  - 语法基础
tag:
  - 阅读记录
timeline: true
isOriginal: true
star: false
article: true
---
## 2.6.1 集合的定义

**集合**是指一批元素的集合，在集合中，元素是具有**唯一性**的。

Python 中有两个可以表示集合的类型，一种是 `set`，另一种是 `frozenset`。**区别在于，前者是可变类型，后者是不可变类型**。集合中的元素都是**不可变对象**。

另外一点是，集合中的元素是没有顺序的。这也就是说，如果要求显示器显示一个集合，这个集合内元素的顺序和输入顺序不同。（不过一般是按照编码顺序来排序的）

## 2.6.2 集合的构造

集合的构造主要有三种：

1. 使用` {元素1,…} `创建。

2. 使用` set(可迭代对象) `或者` frozenset(可迭代对象) `生成。

3. 使用描述式` {生成表达式} `生成，此时括号内只能由一组生成表达式。

在生成过程中，填入其中的元素可以重复。Python 在生成的过程中会自动处理重复元素。

:::warning
如果单独的` {} `，Python 会识别为空字典，而不是空集合。
:::

:::danger
对于重复元素的剔除，Python 采用的规则是` == `操作。因此有时会有一些危险的情况如下，在工程中应当注意。
```sh{red}
>>> {1,True}
{1}
>>> {1.0,1}
{1.0}
```
:::

## 2.6.3 集合的比较

在数学里，如果一个集合的元素都属于另一集合，则称前者是后者的**子集**，或称后者是前者的**超集**。显然，每个集合都是其自身的子集和超集。如果一个集合是另一集合的子集，而且两个集合不等，那么它就是**真子集**，可以类似地定义**真超集**。

Python 用表示顺序的比较运算符表示这几个关系，有些运算还有采用点号记法的版本，如下所示：
|运算|说明|
|:-|:-:|
|s1 <= s2<br/>s1.issubset(s2)|当且仅当 s1 为 s2 的子集时得到 True|
|s1 < s2|当且仅当 s1 为 s2 的真子集时得到 True|
|s1 >= s2<br/>s1.issuperset(s2)|检查 s1 是否为 s2 的超集|
|s1 > s2|检查 s1 是否为 s2 的真超集|
|s1.isdisjoint(s2)|检查两个集合是否不相交，不相交就是没有公共元素|

:::tip
set 对象可以与 frozenset 对象比较，
:::

## 2.6.4 集合的操作

常见的操作如下：
|操作|说明|
|:-|:-:|
|s1.union(s2,...)<br/>s1\|s2\|...|产生所有参数集合的并集。元素属于并集，当且仅当它属加运算的某个集合|
|s1.intersection(S2, ...)<br/>s1&s2&...|产生所有参数集合的交集。元素属于交集，当且仅当它属干加运算的每个集合|
|s1.difference(s2, ...)<br/>s1-s2-...|产生的集合里包含属于第一个集合不属于其他集合的所有元素，称为差集|
|s1.symmetric_difference(s2)|产生 s1 和 s2 的对称差集，其中包含所有属于 s1 但不属于 s2 及属于 s2 不属于 s1 的元素|
|s.add(x)|将元素 x 加入集合 s|
|s.remove(x)|从 s 里删除元素 x，在 s 没有 x 时报错|
|s.discard(x)|如果 s 里有 x 就抛弃它，没有 x 时什么也不做|
|s.pop()|从 s 里删除某个(任意的)元素并返回它，具体元素由集合内部确定。如果操作时 s 为空则报错|
|s.clear()|清除 s 里的所有元素|

:::tip
集合的交并差运算中，函数形式的参数可以是任意形式的可迭代对象，而不只是集合。
:::
